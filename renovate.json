{
  "extends": [
    "github>defenseunicorns/uds-common//config/renovate.json5",
    ":semanticCommits",
    ":semanticPrefixFixDepsChoreOthers",
    "group:all",
    "replacements:all",
    "workarounds:all"
  ],
  "branchConcurrentLimit": 0,
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "packageRules": [
    {
      "matchDatasources": [
        "helm"
      ],
      "commitMessageTopic": "Helm chart {{depName}}",
      "separateMinorPatch": true
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "commitMessageTopic": "Docker image {{depName}}",
      "commitMessageExtra": "to {{#if isSingleVersion}}v{{{newVersion}}}{{else}}{{{newValue}}}{{/if}}",
      "enabled": true,
      "separateMinorPatch": true
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "labels": [
        "renovate/image-release",
        "dependency/major"
      ]
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "matchUpdateTypes": [
        "minor"
      ],
      "labels": [
        "renovate/image-release",
        "dependency/minor"
      ]
    },
    {
      "matchDatasources": [
        "docker"
      ],
      "matchUpdateTypes": [
        "patch"
      ],
      "labels": [
        "renovate/image-release",
        "dependency/patch"
      ]
    },
    {
      "matchDatasources": [
        "helm"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "labels": [
        "renovate/helm-release",
        "dependency/major"
      ]
    },
    {
      "matchDatasources": [
        "helm"
      ],
      "matchUpdateTypes": [
        "minor"
      ],
      "labels": [
        "renovate/helm-release",
        "dependency/minor"
      ]
    },
    {
      "matchDatasources": [
        "helm"
      ],
      "matchUpdateTypes": [
        "patch"
      ],
      "labels": [
        "renovate/helm-release",
        "dependency/patch"
      ]
    },
    {
      "description": "Group Github Actions and vscode/settings.json updates.",
      "matchFileNames": [
        ".github/**",
        ".vscode/settings.json"
      ],
      "groupName": "gha-deps"
    },
    {
      "description": "Group updates in src/plugin files into plugin-deps group.",
      "matchFileNames": [
        "src/plugin/pom.xml"
      ],
      "groupName": "plugin-deps"
    }
  ],
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/^tasks.ya?ml$/",
        "/^tasks/.*\\.ya?ml$/",
        "/^\\.vscode/settings\\.json$/"
      ],
      "matchStrings": [
        "https:\\/\\/raw\\.githubusercontent\\.com\\/(?<depName>[^\\/]+\\/[^\\/]+)\\/(?<currentValue>[^\\/]+)"
      ],
      "versioningTemplate": "semver-coerced",
      "datasourceTemplate": "github-tags"
    }
  ]
}
